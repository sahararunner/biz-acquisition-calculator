{"ast":null,"code":"import React from'react';import{AlertTriangleIcon,Info}from'lucide-react';import CustomSlider from'./CustomSlider';import{formatCurrency,formatPercentage}from'../utils/calculations';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const VariableCard=_ref=>{let{variableKey,variable,value,onValueChange}=_ref;const[showTooltip,setShowTooltip]=React.useState(false);const getConstraintWarning=()=>{if(variableKey==='sbaDownPayment'&&value<10){return{type:'warning',message:'SBA requires minimum 10% down payment',icon:AlertTriangleIcon};}if(variableKey==='sellerFinancing'&&value===0){return{type:'warning',message:'80% of small business sales include seller financing',icon:AlertTriangleIcon};}return null;};const constraint=getConstraintWarning();// Calculate probability based on normal distribution\nconst calculateProbability=val=>{const mean=(variable.range.min+variable.range.max)/2;const stdDev=(variable.range.max-variable.range.min)/6;const zScore=Math.abs((val-mean)/stdDev);// Calculate probability percentage\nconst probability=Math.max(0,100-zScore*15);return Math.round(probability);};const probability=calculateProbability(value);const formatValue=val=>{if(variable.unit==='$')return formatCurrency(val);if(variable.unit==='%')return formatPercentage(val);if(variable.unit==='x EBITDA')return`${val.toFixed(1)}x`;return`${val}${variable.unit}`;};return/*#__PURE__*/_jsxs(\"div\",{className:\"card p-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-semibold text-gray-900\",children:variable.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative inline-block\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"inline-flex items-center gap-1 cursor-help\",onMouseEnter:()=>setShowTooltip(true),onMouseLeave:()=>setShowTooltip(false),children:/*#__PURE__*/_jsx(Info,{className:\"w-3 h-3 text-gray-400 hover:text-gray-600\"})}),showTooltip&&/*#__PURE__*/_jsxs(\"div\",{className:\"absolute z-50 bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg max-w-xs\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium mb-1\",children:\"Description:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"whitespace-pre-wrap\",children:variable.description}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900\"})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs font-medium text-gray-700\",children:\"Current: \"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-semibold text-gray-900\",children:formatValue(value)})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"span\",{className:`text-xs font-semibold px-2 py-1 rounded ${probability>=70?'bg-green-100 text-green-800':probability>=40?'bg-yellow-100 text-yellow-800':'bg-red-100 text-red-800'}`,children:[probability,\"% likely\"]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1\",children:[/*#__PURE__*/_jsx(CustomSlider,{value:value,onChange:onValueChange,min:variable.range.min,max:variable.range.max,step:variable.unit==='$'?1000:0.1,unit:variable.unit,color:\"blue\",showTooltip:false}),variableKey==='sbaDownPayment'&&/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500 mt-1\",children:\"Rate: 11.5% (after tax 8.6%)\"}),variableKey==='sellerFinancing'&&/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500 mt-1\",children:\"Rate: 8% (after tax 6.0%)\"})]}),constraint&&/*#__PURE__*/_jsx(\"div\",{className:`p-1 rounded border text-xs ${constraint.type==='warning'?'bg-amber-50 border-amber-200':'bg-green-50 border-green-200'}`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1\",children:[/*#__PURE__*/_jsx(constraint.icon,{className:`w-3 h-3 ${constraint.type==='warning'?'text-amber-600':'text-green-600'}`}),/*#__PURE__*/_jsx(\"span\",{className:`${constraint.type==='warning'?'text-amber-800':'text-green-800'}`,children:constraint.message})]})})]})]});};export default VariableCard;","map":{"version":3,"names":["React","AlertTriangleIcon","Info","CustomSlider","formatCurrency","formatPercentage","jsx","_jsx","jsxs","_jsxs","VariableCard","_ref","variableKey","variable","value","onValueChange","showTooltip","setShowTooltip","useState","getConstraintWarning","type","message","icon","constraint","calculateProbability","val","mean","range","min","max","stdDev","zScore","Math","abs","probability","round","formatValue","unit","toFixed","className","children","name","onMouseEnter","onMouseLeave","description","onChange","step","color"],"sources":["/Users/juihanlin/Desktop/Biz Acquisition Calculator/src/components/VariableCard.js"],"sourcesContent":["import React from 'react';\nimport { AlertTriangleIcon, Info } from 'lucide-react';\nimport CustomSlider from './CustomSlider';\nimport { formatCurrency, formatPercentage } from '../utils/calculations';\n\nconst VariableCard = ({ \n  variableKey, \n  variable, \n  value, \n  onValueChange \n}) => {\n  const [showTooltip, setShowTooltip] = React.useState(false);\n  const getConstraintWarning = () => {\n    if (variableKey === 'sbaDownPayment' && value < 10) {\n      return {\n        type: 'warning',\n        message: 'SBA requires minimum 10% down payment',\n        icon: AlertTriangleIcon\n      };\n    }\n    if (variableKey === 'sellerFinancing' && value === 0) {\n      return {\n        type: 'warning',\n        message: '80% of small business sales include seller financing',\n        icon: AlertTriangleIcon\n      };\n    }\n    return null;\n  };\n\n  const constraint = getConstraintWarning();\n\n  // Calculate probability based on normal distribution\n  const calculateProbability = (val) => {\n    const mean = (variable.range.min + variable.range.max) / 2;\n    const stdDev = (variable.range.max - variable.range.min) / 6;\n    const zScore = Math.abs((val - mean) / stdDev);\n    // Calculate probability percentage\n    const probability = Math.max(0, 100 - (zScore * 15));\n    return Math.round(probability);\n  };\n\n  const probability = calculateProbability(value);\n\n  const formatValue = (val) => {\n    if (variable.unit === '$') return formatCurrency(val);\n    if (variable.unit === '%') return formatPercentage(val);\n    if (variable.unit === 'x EBITDA') return `${val.toFixed(1)}x`;\n    return `${val}${variable.unit}`;\n  };\n\n  return (\n    <div className=\"card p-3\">\n      <div className=\"mb-1\">\n        <div className=\"flex items-center gap-1\">\n          <h3 className=\"text-sm font-semibold text-gray-900\">{variable.name}</h3>\n          <div className=\"relative inline-block\">\n            <div\n              className=\"inline-flex items-center gap-1 cursor-help\"\n              onMouseEnter={() => setShowTooltip(true)}\n              onMouseLeave={() => setShowTooltip(false)}\n            >\n              <Info className=\"w-3 h-3 text-gray-400 hover:text-gray-600\" />\n            </div>\n            {showTooltip && (\n              <div className=\"absolute z-50 bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg max-w-xs\">\n                <div className=\"font-medium mb-1\">Description:</div>\n                <div className=\"whitespace-pre-wrap\">{variable.description}</div>\n                <div className=\"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900\"></div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n\n      <div className=\"space-y-1\">\n        {/* Current Value and Probability in same row */}\n        <div className=\"flex justify-between items-center\">\n          <div>\n            <span className=\"text-xs font-medium text-gray-700\">Current: </span>\n            <span className=\"text-sm font-semibold text-gray-900\">\n              {formatValue(value)}\n            </span>\n          </div>\n          <div>\n            <span className={`text-xs font-semibold px-2 py-1 rounded ${\n              probability >= 70 ? 'bg-green-100 text-green-800' :\n              probability >= 40 ? 'bg-yellow-100 text-yellow-800' :\n              'bg-red-100 text-red-800'\n            }`}>\n              {probability}% likely\n            </span>\n          </div>\n        </div>\n\n        {/* Slider */}\n        <div className=\"space-y-1\">\n          <CustomSlider\n            value={value}\n            onChange={onValueChange}\n            min={variable.range.min}\n            max={variable.range.max}\n            step={variable.unit === '$' ? 1000 : 0.1}\n            unit={variable.unit}\n            color=\"blue\"\n            showTooltip={false}\n          />\n          {/* Show interest rate for SBA Down Payment % and Seller Financing % */}\n          {variableKey === 'sbaDownPayment' && (\n            <div className=\"text-xs text-gray-500 mt-1\">Rate: 11.5% (after tax 8.6%)</div>\n          )}\n          {variableKey === 'sellerFinancing' && (\n            <div className=\"text-xs text-gray-500 mt-1\">Rate: 8% (after tax 6.0%)</div>\n          )}\n        </div>\n\n        {/* Constraint Warnings */}\n        {constraint && (\n          <div className={`p-1 rounded border text-xs ${\n            constraint.type === 'warning' ? 'bg-amber-50 border-amber-200' : 'bg-green-50 border-green-200'\n          }`}>\n            <div className=\"flex items-center gap-1\">\n              <constraint.icon className={`w-3 h-3 ${\n                constraint.type === 'warning' ? 'text-amber-600' : 'text-green-600'\n              }`} />\n              <span className={`${\n                constraint.type === 'warning' ? 'text-amber-800' : 'text-green-800'\n              }`}>\n                {constraint.message}\n              </span>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default VariableCard; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}